<!DOCTYPE html>
<html>
  <head>
    <title>{{ title }}</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel='stylesheet' href='/stylesheets/bootstrap.css' />
  </head>
  <body class="signup">
  	<p style="font-size:65px;text-align:center;color:purple;">MySukan2016: Ready For Much Action?</p>
  	<br>

	<div id="main-div" style="width:65%;position:relative;left:17.5%;">    
		<form action="signup" method="POST">
		    <!-- csrf for security -->
        	<input type="hidden" name="_csrf" value="crsfToken">

			<div class="panel panel-default" style="width:65%;position:absolute;;left:17.5%;">
			  <div class="panel-heading">
				<span style="width:70%;left:15%;"> Join Us Now!</span>
			  </div>
			  <div class="panel-body">
			  	<!-- user email -->
	            <div class="input-group" style="width:70%;left:15%">
	              <span class="input-group-addon" id="basic-addon1">@</span>
	              <input type="email" class="form-control" placeholder="Email" aria-describedby="basic-addon1">
	            </div>
	            <br>
	            <!-- user first name --> 
				<div class="input-group" style="width:70%;left:15%;">
					<!-- <span class="input-group-addon" id="basic-addon1">FN</span> -->
					<input name="firstName" type="text" class="form-control" placeholder="first name" aria-describedby="sizing-addon2">	
				</div>
				<br>
	            <!-- user last name -->
				<div class="input-group" style="width:70%;left:15%;">
					<!-- <span class="input-group-addon" id="basic-addon1"> LN </span> -->
					<input name="lastName" type="text" class="form-control" placeholder="last name" aria-describedby="sizing-addon2">	
				</div>
				<br>
				<!-- user university -->
				<div class="input-group" style="width:70%;left:15%;">
					<!-- <span class="input-group-addon" id="basic-addon1">	</span> -->
					<input name="school" id="school" type="text" class="form-control" placeholder="school" aria-describedby="sizing-addon2">
					<br>
					<input name="schoolId" id="schoolId" type="hidden" value="{{schoolId}}">
				    <div class="result" id="result">
				    </div>
				</div>
				<br>
				<!-- user password -->
				<div class="input-group" style="width:70%;left:15%;">
					<span class="input-group-addon" id="basic-addon1">***</span>
					<input name="password" id="password" type="password" class="form-control" placeholder="password" aria-describedby="sizing-addon2">
					<br>
				    <div class="result" id="result">
				    </div>
				</div>
				<br>
				<!-- user confirm password -->
				<div class="input-group" style="width:70%;left:15%;">
					<span class="input-group-addon" id="basic-addon1">***</span>
					<input name="confirmPassword" id="confirm-password" type="password" class="form-control" placeholder="confirm password" aria-describedby="sizing-addon2">
					<br>
				    <div class="result" id="result">
				    </div>
				</div>
				<br>
				<div class="input-group" style="width:50%;left:37.5%;">
			    	<br>
			    	<input class="btn btn-default" style="width:inherit;" type="submit" value="I'm Ready!">
			    </div>
			  </div>
			</div>
		</form>
	</div>
  </body>
</html>

<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script type="text/javascript">

// sign up
$(function() {

	// GET list of universities that match keyWords
	$('#school').keypress(function () {

		var keyWords = '';
		keyWords = $('#school').val();

		// TEST
		console.log('keyWords:');
		console.log(keyWords);

		if (keyWords.length >= 2) {

			$.ajax({
				type : 'GET',
				url : '/get-all-universities',
				data : {
					'keyWords' : keyWords
				},
				success : function (response) {
					console.log('/get-all-universities SUCCESS\n');
					console.log('response:');
					console.log(response);

					var universities = '';
					for (i in response) {
						if (i != response.length - 1)
							universities += response[i]['University of Andorra'] + ', ';
						else
							universities += response[i]['University of Andorra'];
					}

					$('#result').text(universities);
				},
				error : function (err) {
					console.log('/get-all-universities ERROR\n');
					console.log('err:');
					console.log(err);
				},
				dataType : 'json'
			});

		}

	});
});

</script>